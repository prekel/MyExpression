<Window x:Class="MyExpression.Wpf.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:MyExpression.Wpf"
        mc:Ignorable="d"
        Title="MyExpression.Wpf" Height="500" Width="675"
		MinHeight="425" MinWidth="425">
	<Grid>
		<Grid.ColumnDefinitions>
			<ColumnDefinition Width="260*"/>
			<ColumnDefinition Width="auto"/>
			<ColumnDefinition Width="410*"/>
		</Grid.ColumnDefinitions>


		<Grid Grid.Column="2" Grid.RowSpan="2" >
			<local:FunctionGraph x:Name="Graph" RenderTransformOrigin="0.5,0.5" SizeChanged="Graph_SizeChanged">
				<local:FunctionGraph.RenderTransform>
					<TransformGroup>
						<ScaleTransform ScaleY="-1" ScaleX="1"/>
						<SkewTransform AngleY="0" AngleX="0"/>
						<RotateTransform Angle="0"/>
					</TransformGroup>
				</local:FunctionGraph.RenderTransform>
			</local:FunctionGraph>
		</Grid>

		<Grid>
			<Grid.ColumnDefinitions>
				<ColumnDefinition Width="40*"/>
				<ColumnDefinition Width="18*"/>
				<ColumnDefinition Width="5"/>
				<ColumnDefinition Width="18*"/>
				<ColumnDefinition Width="15"/>
			</Grid.ColumnDefinitions>
			<Grid.RowDefinitions>
			</Grid.RowDefinitions>


			<Button x:Name="ResetButton" Content="Reset" Margin="0,42,0,0" VerticalAlignment="Top" Click="ResetButton_Click" Height="20" Grid.Column="1"/>
			<Button x:Name="DrawButton" Content="Draw" Margin="0,42,0,0" VerticalAlignment="Top" Click="DrawButton_Click" Height="20" Grid.Column="3"/>
			<TextBox x:Name="OffsetX" Height="23" Margin="0,67,0,0" TextWrapping="Wrap" Text="0" VerticalAlignment="Top" Grid.Column="1"/>
			<TextBox x:Name="OffsetY" Height="23" Margin="0,67,0,0" TextWrapping="Wrap" Text="0" VerticalAlignment="Top" Grid.Column="3"/>
			<Label Content="Offset" HorizontalAlignment="Right" Margin="0,67,5,0" VerticalAlignment="Top" Height="28" Width="104" FlowDirection="RightToLeft"/>
			<TextBox x:Name="ScaleX" Height="23" Margin="0,95,0,0" TextWrapping="Wrap" Text="40" VerticalAlignment="Top" Grid.Column="1"/>
			<TextBox x:Name="ScaleY" Height="23" Margin="0,95,0,0" TextWrapping="Wrap" Text="40" VerticalAlignment="Top" Grid.Column="3"/>
			<Label Content="Scale" HorizontalAlignment="Right" Margin="0,95,5,0" VerticalAlignment="Top" Height="28" Width="104" FlowDirection="RightToLeft"/>
			<TextBox x:Name="Step" Height="23" Margin="0,123,0,0" TextWrapping="Wrap" Text="1e-2" VerticalAlignment="Top" Grid.Column="1" Grid.ColumnSpan="3"/>
			<Label Content="Step" HorizontalAlignment="Right" Margin="0,123,5,0" VerticalAlignment="Top" Height="28" Width="104" FlowDirection="RightToLeft"/>
			<TextBox x:Name="CellsStepX" Height="23" Margin="0,207,0,0" TextWrapping="Wrap" Text="1" VerticalAlignment="Top" Grid.Column="1"/>
			<Label Content="CellsStep" HorizontalAlignment="Right" Margin="0,207,5,0" VerticalAlignment="Top" Height="28" Width="104" FlowDirection="RightToLeft"/>
			<TextBox x:Name="CellsStepY" Height="23" Margin="0,207,0,0" TextWrapping="Wrap" Text="1" VerticalAlignment="Top" Grid.Column="3"/>

			<Label Content="CellsIntervalX" HorizontalAlignment="Right" Margin="0,151,5,0" VerticalAlignment="Top" Height="28" Width="104" FlowDirection="RightToLeft"/>
			<TextBox x:Name="CellsIntervalXLeft" Height="23" Margin="0,151,0,0" TextWrapping="Wrap" Text="-10" VerticalAlignment="Top" Grid.Column="1"/>
			<TextBox x:Name="CellsIntervalXRight" Height="23" Margin="0,151,0,0" TextWrapping="Wrap" Text="10" VerticalAlignment="Top" Grid.Column="3"/>
			<Label Content="CellsIntervalY" HorizontalAlignment="Right" Margin="0,179,5,0" VerticalAlignment="Top" Height="28" Width="104" FlowDirection="RightToLeft"/>
			<TextBox x:Name="CellsIntervalYLeft" Height="23" Margin="0,179,0,0" TextWrapping="Wrap" Text="-10" VerticalAlignment="Top" Grid.Column="1"/>
			<TextBox x:Name="CellsIntervalYRight" Height="23" Margin="0,179,0,0" TextWrapping="Wrap" Text="10" VerticalAlignment="Top" Grid.Column="3"/>
			<Label Content="Polynomial/Function" Margin="-26,235,5,0" VerticalAlignment="Top" Height="28" HorizontalAlignment="Right" Width="139" FlowDirection="RightToLeft"/>
			<TextBox x:Name="Polynomial" Height="36" Margin="0,265,0,0" TextWrapping="Wrap" Text="x^3-2x^2-x+2" VerticalAlignment="Top" Grid.ColumnSpan="4" HorizontalAlignment="Right" Width="232"/>
			<Label Content="DefinitionArea" HorizontalAlignment="Right" Margin="0,306,5,0" VerticalAlignment="Top" Height="28" Width="91"/>
			<TextBox x:Name="DefinitionAreaLeft" Height="23" Margin="0,306,0,0" TextWrapping="Wrap" Text="-20" VerticalAlignment="Top" Grid.Column="1"/>
			<TextBox x:Name="DefinitionAreaRight" Height="23" Margin="0,306,0,0" TextWrapping="Wrap" Text="20" VerticalAlignment="Top" Grid.Column="3"/>
			<Button x:Name="AddButton" Content="Add" Margin="0,240,0,0" VerticalAlignment="Top" Click="AddButton_Click" Height="20" Grid.Column="1"/>
			<Button x:Name="ClearButton" Content="Clear" Margin="0,240,0,0" VerticalAlignment="Top" Click="ClearButton_Click" Height="20" Grid.Column="3"/>
			<Label Content="Count" Margin="0,10,6,0" VerticalAlignment="Top" Height="28" FlowDirection="RightToLeft" HorizontalAlignment="Right" Width="104"/>
			<Label x:Name="CountLabel" Content="0" Margin="0,11,0,0" VerticalAlignment="Top" Height="26" Grid.Column="1"/>
			<local:BrushesList x:Name="GraphBrushComboBox" Margin="0,334,0,0" Height="30" VerticalAlignment="Top" HorizontalAlignment="Right" Width="160" Grid.ColumnSpan="2"/>
			<Button x:Name="SolveButton" Content="Solve" Margin="0,400,0,0" VerticalAlignment="Top" Click="SolveButton_Click" Height="20" Grid.Column="3"/>
			<TextBox x:Name="TangentX" Height="23" Margin="0,404,41,0" TextWrapping="Wrap" Text="0" VerticalAlignment="Top" HorizontalAlignment="Right" Width="74"/>
			<Label Content="TangentX" Margin="0,376,41,0" VerticalAlignment="Top" Height="28" HorizontalAlignment="Right" Width="74"/>
			<Label Content="TangentLim" Margin="0,376,21,0" VerticalAlignment="Top" Height="28" Grid.ColumnSpan="2" HorizontalAlignment="Right" Width="71"/>
			<Button x:Name="TangentAddButton" Content="Add Tangent" Margin="43,375,0,0" VerticalAlignment="Top" Click="TangentAddButton_Click" Height="20" Grid.Column="1" Grid.ColumnSpan="3"/>
			<TextBox x:Name="TangentLim" Height="23" Margin="0,404,21,0" TextWrapping="Wrap" Text="1e-4" VerticalAlignment="Top" Grid.ColumnSpan="2" HorizontalAlignment="Right" Width="71"/>

		</Grid>

		<GridSplitter Grid.Column="1" HorizontalAlignment="Stretch" Width="5"/>

	</Grid>
</Window>
